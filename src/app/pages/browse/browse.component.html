<main>
    <header class="h-[68px] z-10 bg-gray-900 sticky top-0 flex flex-col md:flex-row items-center justify-between px-10">
        <!-- Logo + navitems -->
        <div class="flex gap-5 text-2xl text-blue-400 md:text-3xl ">
            FletNix
        </div>
        <div class="flex items-center gap-2">
            <form [formGroup]="searchForm" class="flex items-center justify-center gap-5 md:justify-end md:gap-10"
                (ngSubmit)="onSearchSubmit()">
                <input type="text" placeholder="Search" class="p-2 rounded-md  w-[250px]" formControlName="searchValue">
            </form>
            <select [(ngModel)]="filterValue" (change)="onFilterChange(filterValue)" class="p-2 rounded-md w-[100px]">
                <option value="" disabled selected>Filter</option>
                <option value="movie">Movie</option>
                <option value="tvshow">TV Show</option>
                <option value="all">All</option>
            </select>
        </div>

    </header>
    <div
        class="grid  grid-cols-1 mt-4 mb-4 md:grid-cols-2 md:gap-2 lg:gap-4 lg:grid-cols-4 max-w-[90rem] mx-auto min-h-[80vh]">
        @for (item of movies; track movies._id) {
        <a [routerLink]="['/movie', item.title]">
            <div class="p-2 border-2 rounded-2xl md:p-4  h-[200px] ">
                <p>
                    Type : {{ item.type }}
                </p>
                <h1>
                    {{ item.type }} Name : {{ item.title }}
                </h1>
            </div>
        </a>
        }
    </div>
    <mat-paginator [length]="lengthItems" [pageSize]="15" [showFirstLastButtons]="true" [pageIndex]="currentPage"
        (page)="handlePage($event)">
    </mat-paginator>
</main>